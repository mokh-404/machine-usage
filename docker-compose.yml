version: '3.8'

services:
  system-monitor:
    build: .
    container_name: system-monitor-dashboard
    volumes:
      # Mount the shared metrics directory
      - ./metrics:/data:rw
    # Keep container running
    stdin_open: true
    tty: true
    # GPU passthrough (optional, for NVIDIA)
    deploy:
      resources:
        reservations:
          devices:
            - driver: nvidia
              count: all
              capabilities: [gpu]
    # Restart policy
    restart: unless-stopped
